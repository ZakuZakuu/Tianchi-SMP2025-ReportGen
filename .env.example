# ====================
# 环境变量配置模板
# ====================
# 复制此文件为 .env 并填入你的真实API密钥

# OpenAI官方API配置
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1

# Anthropic官方API配置
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_BASE_URL=https://api.anthropic.com

# SiliconFlow API配置
SILICONFLOW_API_KEY=your_siliconflow_api_key_here
SILICONFLOW_BASE_URL=https://api.siliconflow.cn/v1

# 阿里百炼API配置
DASHSCOPE_API_KEY=your_dashscope_api_key_here
DASHSCOPE_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

# 智谱AI API配置
ZHIPU_API_KEY=your_zhipu_api_key_here
ZHIPU_BASE_URL=https://open.bigmodel.cn/api/paas/v4

# News API配置
NEWS_API_KEY=your_news_api_key_here

# ====================
# 模型配置
# ====================
PRIMARY_MODEL=dashscope:qwen3-235b-a22b-instruct-2507
SECONDARY_MODEL=dashscope:qwen-flash-2025-07-28
BACKUP_MODEL=dashscope:qwen-plus-2025-07-28

# 默认服务商优先级
PROVIDER_PRIORITY=dashscope,siliconflow

# ====================
# RAG配置
# ====================
CHROMA_DB_PATH=./chroma_db
EMBEDDING_MODEL=siliconflow:BAAI/bge-large-zh-v1.5
EMBEDDING_PROVIDER=siliconflow
MAX_CONTEXT_LENGTH=8000

# ====================
# 生成配置
# ====================
DEFAULT_TEMPERATURE=0.3
MAX_RETRIES=3
REQUEST_TIMEOUT=180
WORD_COUNT_TOLERANCE=0.03

# ====================
# 字数控制配置 (已弃用固定1.12反向折扣策略)
# ====================
WORD_COUNT_ACCEPTABLE_MIN_RATIO=0.90
WORD_COUNT_ACCEPTABLE_MAX_RATIO=1.10
WORD_COUNT_EXPANDABLE_MIN_RATIO=0.60
WORD_COUNT_EXPANSION_DISCOUNT=0.92
WORD_COUNT_TRUNCATION_THRESHOLD=1.25
WORD_COUNT_GENERATION_BOOST=1.12

# ====================
# 自适应字数增益配置 (新功能)
# ====================
# 是否启用自适应字数增益（推荐设为true）
ADAPTIVE_GAIN_ENABLED=true

# 学习率α，控制调整速度 (0.1-0.5)
# 较小值调整保守，较大值调整激进
ADAPTIVE_GAIN_ALPHA=0.3

# 增益系数的边界保护
ADAPTIVE_GAIN_MIN=1.0   # 最小增益系数（防止欠生成）
ADAPTIVE_GAIN_MAX=1.35  # 最大增益系数（防止过度生成）

# 默认增益系数（用于新类别初始化）
ADAPTIVE_GAIN_DEFAULT=1.12

# 满意区间设置（在此范围内不调整增益系数）
ADAPTIVE_GAIN_SATISFACTION_MIN=0.95  # 满意区间下限（95%）
ADAPTIVE_GAIN_SATISFACTION_MAX=1.05  # 满意区间上限（105%）

# 单次最大调整比例（防止过度调整）
ADAPTIVE_GAIN_MAX_ADJUSTMENT=0.1     # 最大10%调整

# ====================
# 外部数据处理配置
# ====================
SUMMARY_MODEL=siliconflow:Qwen/Qwen2.5-7B-Instruct
SUMMARY_MAX_LENGTH=300
SUMMARY_MIN_LENGTH=500
HTML_CLEANUP_ENABLED=true
